<form [formGroup]="companyForm" (submit)="searchCompany()">
  <div class="form-group">
    <label>
      Nom de l'établissement <span>*</span>
    </label>
    <input formControlName="name" type="text" class="form-control">
  </div>

  <div class="form-group">
    <label>
      Ville de l'établissement <span>*</span>
    </label>
    <input formControlName="city" type="text" class="form-control">
  </div>

  <div class="text-center">
    <button class="btn btn-secondary">Rechercher</button>
  </div>

  <div class="form-group" *ngIf="companyForm.controls['address']">
    <label>
      Veuillez préciser le numéro et la rue de l'établissement <span>*</span>
    </label>
    <input formControlName="address" type="text" class="form-control">
  </div>

</form>

<div *ngIf="companies && companies.length">
  <p>Veuillez sélectionner un établissement dans la liste ci-dessous ou préciser votre recherche : </p>
  <p *ngFor="let company of companies" class="company" (click)="selectCompany(company)">
    <span *ngIf="company.line1">{{company.line1}}<br /></span>
    <span *ngIf="company.line2">{{company.line2}}<br /></span>
    <span *ngIf="company.line3">{{company.line3}}<br /></span>
    <span *ngIf="company.line4">{{company.line4}}<br /></span>
    <span *ngIf="company.line5">{{company.line5}}<br /></span>
    <span *ngIf="company.line6">{{company.line6}}<br /></span>
    <span *ngIf="company.line7">{{company.line7}}<br /></span>
  </p>
</div>

<div *ngIf="hasTooManyResults()" class="alert">
  Trop de résultat trouvé
</div>
