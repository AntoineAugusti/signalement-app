<main role="main">
  <section class="section section-lighter-grey">
    <div class="container max-width">
      <h2 class="text-center">Emmh, nous ne pouvons pas traiter votre signalement.</h2>
      <div class="bg-white m-4 p-4">
        <p *ngIf="informationToDisplay.outOfScope">
          Nous ne doutons pas que vous ayez réellement rencontré un problème mais... il ne s’agit pas d’une fraude.
        </p>
        <p tabindex="-1" id="titleInformation" [innerHTML]="informationToDisplay?.title">
        </p>
        <p *ngIf="informationToDisplay?.content" [innerHTML]="informationToDisplay?.content"></p>

        <div *ngIf="informationToDisplay?.actions">
          <ul>
            <li *ngFor="let action of informationToDisplay?.actions; let index = index">
              <a data-toggle="collapse" href="#collapseAction_{{index}}">
                <div>
                  <div [innerHTML]="action.question"></div>
                  <div class="text-muted" *ngIf="action.example" [innerHTML]="action.example"></div>
                </div>
              </a>
              <div class="collapse" id="collapseAction_{{index}}">
                <div class="card card-body">
                  <span [innerHTML]="action.answer"></span>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>

      <div class="bg-white m-4 p-4">
        <div class="text-center" *ngIf="!ratingSuccess; else ratingSuccessTpl">
          <p>Est-ce que cette information vous a été utile ?</p>
          <button type="button" class="btn btn-outline-primary mr-3" (click)="rateInformation(true)" title="oui">
            <i class="material-icons md-24" aria-hidden="true">thumb_up</i>
          </button>
          <button type="button" class="btn btn-outline-primary" (click)="rateInformation(false)" title="non">
            <i class="material-icons md-24" aria-hidden="true">thumb_down</i>
          </button>
        </div>
        <div class="notification error" *ngIf="loadingError">
          Une erreur technique s'est produite<br />
        </div>
        <ng-template #ratingSuccessTpl>
          <div class="notification success text-center">
            Votre avis a bien été enregistré, nous vous en remercions.
          </div>
        </ng-template>
        <ngx-loading [show]="loading"></ngx-loading>
      </div>
    </div>

    <div class="text-center">
      <button class="btn btn-lg btn-primary" (click)="newReport()">
        Retourner à l'accueil<img src="/assets/images/icon-home.svg" alt="Icône accueil" />
      </button>
    </div>

  </section>
</main>
