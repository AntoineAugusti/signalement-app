<header class="navbar" role="banner" id="banner" tabindex="-1">
  <div class="navbar__container">
    <a id="logo" class="navbar__home" routerLink="/">
      <img class="navbar__logo" src="/assets/images/logo-marianne.svg" alt="Retour à la page sommaire" />
      <span class="navbar__domain">SignalConso</span><span class="navbar__gouvfr" alt="data.gouv.fr">.beta.gouv.fr</span>
    </a>
    <nav>
      <ul class="nav__links">
        <li class="nav__item d-none d-lg-inline-block">
          <a routerLink="/qui-sommes-nous">
            Qui sommes-nous ?
          </a>
        </li>
        <li class="nav__item d-none d-lg-inline-block">
          <a routerLink="/comment-ça-marche">
            Comment ça marche ?
          </a>
        </li>
        <li class="nav__item d-none d-lg-inline-block" *ngIf="user && user.role === 'DGCCRF'">
          <a routerLink="/mode-emploi-dgccrf">
            Mode d'emploi
          </a>
        </li>
        <li class="nav__item d-inline-block d-lg-none mr-2">
          <div class="btn-group" dropdown placement="bottom right">
            <button id="button-menu" dropdownToggle type="button" class="btn btn-outline-secondary dropdown-toggle"
                    ><i class="material-icons">menu</i><span class="caret"></span>
            </button>
            <ul id="dropdown-menu" *dropdownMenu class="dropdown-menu dropdown-menu-left"
                role="menu" aria-labelledby="button-menu">
              <li role="menuitem" class="dropdown-item pointer">
                <a routerLink="/qui-sommes-nous">
                  Qui sommes-nous ?
                </a>
              </li>
              <li role="menuitem" class="dropdown-item pointer">
                <a routerLink="/comment-ça-marche">
                  Comment ça marche ?
                </a>
              </li>
              <li role="menuitem" class="dropdown-item pointer" *ngIf="user && user.role === 'DGCCRF'">
                <a routerLink="/mode-emploi-dgccrf">
                  Mode d'emploi
                </a>
              </li>
            </ul>
          </div>
        </li>
        <li class="nav__item nav__account" *ngIf="!user; else userMenu">
          <button type="button" class="btn btn-outline-secondary" [routerLink]="['activation']">
            <i class="material-icons" aria-hidden="true">lock</i> Espace professionnel
          </button>
        </li>
        <ng-template #userMenu>
          <li class="nav__item nav__account">
            <div class="btn-group" dropdown placement="bottom right">
              <button id="button-avatar" dropdownToggle type="button" class="btn btn-outline-secondary dropdown-toggle"
                      ><i class="material-icons" aria-hidden="true">person</i>&nbsp;Compte <span class="caret"></span>
              </button>
              <ul id="dropdown-account" *dropdownMenu class="dropdown-menu dropdown-menu-right"
                  role="menu" aria-labelledby="button-avatar">

                <ng-container *appRole="[roles.ToActivate]; else activatedRole">
                  <li role="menuitem" >
                    <span class="item">{{ user.login }}</span>
                  </li>
                  <li class="divider dropdown-divider"></li>
                </ng-container>
                <ng-template #activatedRole>
                  <li role="menuitem"><span class="item">{{ user.firstName + " " + user.lastName }}</span></li>
                  <li role="menuitem"><span class="item"><b>Profil</b> : {{ user.role }}</span></li>
                  <li class="divider dropdown-divider"></li>
                  <li role="menuitem"><span class="dropdown-item pointer" (click)="goHome()">Suivi des signalements</span></li>
                  <li role="menuitem"><span class="dropdown-item pointer" *appPermission="permissions.subscribeReports" (click)="goTo(['abonnements'])">Abonnements</span></li>
                  <li role="menuitem"><span class="dropdown-item pointer" (click)="changePassword()">Modifier mot de passe</span></li>
                </ng-template>
                <li role="menuitem"><span class="dropdown-item pointer" (click)="logout()">Se déconnecter</span></li>
              </ul>
            </div>
          </li>
        </ng-template>
      </ul>
    </nav>
    <div class="ribbon"> BETA </div>
  </div>
</header>
