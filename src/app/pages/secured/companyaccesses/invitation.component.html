<div class="overflow-container">
    <div class="banner text-center section section-primary" role="region">
        <div class="container">
        <h1 class="text-center">
            Inviter un nouvel utilisateur
        </h1>
        </div>
    </div>
</div>

<div class="container mt-1">
    <div class="alert alert-success" *ngIf="showSuccess">Un email d'invitation a été envoyé !</div>
    <form class="form" [formGroup]="invitationForm" (ngSubmit)="submitForm()">
        <div class="row">
            <div class="col">
                <label>Email de l'utilisateur</label>
                <input type="email" class="form-control" [formControl]="emailCtrl">
            </div>
            <div class="col">
                <label>Niveau d'accès</label>
                <select class="form-control" [value]="'member'" [formControl]="levelCtrl">
                    <option *ngFor="let level of accessLevels | keyvalue" [ngValue]="level.key">{{level.value}}</option>
                </select>
            </div>
        </div>
        <div class="row">
            <small class="form-text text-muted">
                Un courrier électronique sera envoyé à l'adresse e-mail saisie ci-dessus avec un lien sécurisé permettant de rejoindre le compte de l'entreprise.
            </small>
        </div>
        <div class="row">
            <div class="col text-center mb-1">
                <button type="submit" class="btn btn-primary">Envoyer</button>
                <a class="ml-3" routerLink="../">Revenir à la liste des accès</a>
            </div>
        </div>
        <div class="notification error mt-3" *ngIf="showErrors && invitationForm.invalid">
            <span *ngIf="emailCtrl.hasError('required')">
                Veuillez renseigner votre email.<br />
            </span>
            <span *ngIf="emailCtrl.hasError('email')">
                Veuillez renseigner une adresse email valide.<br />
            </span>
            <span *ngIf="levelCtrl.hasError('required')">
                Sélectionnez le niveau d'accès.<br />
            </span>
        </div>
    </form>
</div>
